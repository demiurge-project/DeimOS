From 90f41b977d06eca80e9c01819ad74524fa272474 Mon Sep 17 00:00:00 2001
From: "Andrew C. Smith" <acsmith@gumstix.com>
Date: Sat, 5 Oct 2019 21:59:43 -0400
Subject: [PATCH 21/24] Garret50C: Add correct edid settings for 800x480
 display.

---
 drivers/gpu/drm/drm_edid_load.c | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/drm_edid_load.c b/drivers/gpu/drm/drm_edid_load.c
index a491509..3a1c408 100644
--- a/drivers/gpu/drm/drm_edid_load.c
+++ b/drivers/gpu/drm/drm_edid_load.c
@@ -47,8 +47,9 @@ int __drm_get_edid_firmware_path(char *buf, size_t bufsize)
 }
 EXPORT_SYMBOL(__drm_get_edid_firmware_path);
 
-#define GENERIC_EDIDS 6
+#define GENERIC_EDIDS 7
 static const char * const generic_edid_name[GENERIC_EDIDS] = {
+	"edid/800x480.bin",
 	"edid/800x600.bin",
 	"edid/1024x768.bin",
 	"edid/1280x1024.bin",
@@ -60,6 +61,24 @@ static const char * const generic_edid_name[GENERIC_EDIDS] = {
 static const u8 generic_edid[GENERIC_EDIDS][128] = {
 	{
 	0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00,
+	0x04, 0x81, 0x04, 0x00, 0x01, 0x00, 0x00, 0x00,
+	0x01, 0x11, 0x01, 0x03, 0x80, 0x0f, 0x0a, 0x00,
+	0x0a, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01,
+	0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
+	0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x80, 0x0c,
+	0x20, 0x80, 0x30, 0xe0, 0x2d, 0x10, 0x28, 0x30,
+	0xd3, 0x00, 0x6c, 0x44, 0x00, 0x00, 0x00, 0x18,
+	0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
+	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x17,
+	},
+	{
+	0x00, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00,
 	0x31, 0xd8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
 	0x05, 0x16, 0x01, 0x03, 0x6d, 0x1b, 0x14, 0x78,
 	0xea, 0x5e, 0xc0, 0xa4, 0x59, 0x4a, 0x98, 0x25,
-- 
2.7.4

